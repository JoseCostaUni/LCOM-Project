\hypertarget{keyboard_8h}{}\doxysection{/home/bruno/\+Desktop/\+FEUP/2o ano/2o semetre/lcom/\+MINIX-\/\+LCOM/shared/g1/proj/src/mvc/controller/keyboard/keyboard.h File Reference}
\label{keyboard_8h}\index{/home/bruno/Desktop/FEUP/2o ano/2o semetre/lcom/MINIX-\/LCOM/shared/g1/proj/src/mvc/controller/keyboard/keyboard.h@{/home/bruno/Desktop/FEUP/2o ano/2o semetre/lcom/MINIX-\/LCOM/shared/g1/proj/src/mvc/controller/keyboard/keyboard.h}}


File containing the constants and functions to interact with the keyboard.  


{\ttfamily \#include $<$minix/sysutil.\+h$>$}\newline
{\ttfamily \#include $<$lcom/lcf.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../kbc/i8042.\+h\char`\"{}}\newline
Include dependency graph for keyboard.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=308pt]{keyboard_8h__incl}
\end{center}
\end{figure}
This graph shows which files directly or indirectly include this file\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h__dep__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structscancode__info}{scancode\+\_\+info}}
\begin{DoxyCompactList}\small\item\em Struct to represent the scancode information. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{keyboard_8h_a8eee4d0a15beada731a514481b5ad4bf}{keyboard\+\_\+subscribe\+\_\+int}} (uint8\+\_\+t $\ast$bit\+\_\+no)
\begin{DoxyCompactList}\small\item\em Subscribes keyboard interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{keyboard_8h_ac95aea27a5e91b363b876fed881f368f}{keyboard\+\_\+unsubscribe\+\_\+int}} ()
\begin{DoxyCompactList}\small\item\em Unsubscribes keyboard interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{keyboard_8h_ac4d625586bbed9a409aca94111f27305}{read\+\_\+status\+\_\+register}} (uint8\+\_\+t $\ast$st)
\begin{DoxyCompactList}\small\item\em Reads a register from the keyboard. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{keyboard_8h_ab9cc7424b64d31a408f6c1317f35babf}{read\+\_\+out\+\_\+buffer}} (uint8\+\_\+t $\ast$out)
\begin{DoxyCompactList}\small\item\em Reads the output buffer. \end{DoxyCompactList}\item 
bool() \mbox{\hyperlink{keyboard_8h_aafd4a17c8dbc26ddeb0f405c9d993d92}{receive\+\_\+keyboard\+\_\+scan}} (struct \mbox{\hyperlink{structscancode__info}{scancode\+\_\+info}} $\ast$\mbox{\hyperlink{keyboard_8c_a9c41448501b37ddc79dbc1f0e5a37636}{scan\+\_\+info}}, uint8\+\_\+t $\ast$\mbox{\hyperlink{keyboard_8c_aa1de7a5557e9d96b83cf03f73c92163f}{scancode}})
\begin{DoxyCompactList}\small\item\em Receives the scancode from the keyboard. \end{DoxyCompactList}\item 
void() \mbox{\hyperlink{keyboard_8h_a36aef6e0db295f00cbc0db17796a3b5a}{clean\+\_\+scan\+\_\+info}} (struct \mbox{\hyperlink{structscancode__info}{scancode\+\_\+info}} $\ast$scan)
\begin{DoxyCompactList}\small\item\em Cleans the scancode information. \end{DoxyCompactList}\item 
bool() \mbox{\hyperlink{keyboard_8h_a9d5130e52e1ba8088eb5c9563feb17db}{test\+\_\+status\+\_\+polling}} (uint8\+\_\+t st)
\begin{DoxyCompactList}\small\item\em Tests if the status polling is valid. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{keyboard_8h_a6ac0bdf5df1c2fd3b92a16034e743ffd}{kbc\+\_\+enable\+\_\+interrupts}} ()
\begin{DoxyCompactList}\small\item\em Enables the keyboard interrupts. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{keyboard_8h_a7c5f611b9e6ee9f0f11a224c8a196b23}{try\+\_\+read\+\_\+out\+\_\+buffer}} (uint8\+\_\+t $\ast$out)
\begin{DoxyCompactList}\small\item\em Try to read the output buffer. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{keyboard_8h_a95f165b5a576577a6c2fff2013f71d5b}{check\+\_\+\+ESC}} ()
\begin{DoxyCompactList}\small\item\em Checks if the ESC key was pressed. \end{DoxyCompactList}\item 
int() \mbox{\hyperlink{keyboard_8h_a23cd4ccfc95bca48e72307ca8b416f18}{break\+\_\+from\+\_\+cycles}} ()
\begin{DoxyCompactList}\small\item\em Breaks from the cycles. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
File containing the constants and functions to interact with the keyboard. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{keyboard_8h_a23cd4ccfc95bca48e72307ca8b416f18}\label{keyboard_8h_a23cd4ccfc95bca48e72307ca8b416f18}} 
\index{keyboard.h@{keyboard.h}!break\_from\_cycles@{break\_from\_cycles}}
\index{break\_from\_cycles@{break\_from\_cycles}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{break\_from\_cycles()}{break\_from\_cycles()}}
{\footnotesize\ttfamily int() break\+\_\+from\+\_\+cycles (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Breaks from the cycles. 

\begin{DoxyReturn}{Returns}
int 0 upon success, -\/1 otherwise
\end{DoxyReturn}
Breaks from the cycles.

This function breaks from the cycles.

\begin{DoxyReturn}{Returns}
0 upon success, 1 otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_a23cd4ccfc95bca48e72307ca8b416f18_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{keyboard_8h_a95f165b5a576577a6c2fff2013f71d5b}\label{keyboard_8h_a95f165b5a576577a6c2fff2013f71d5b}} 
\index{keyboard.h@{keyboard.h}!check\_ESC@{check\_ESC}}
\index{check\_ESC@{check\_ESC}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{check\_ESC()}{check\_ESC()}}
{\footnotesize\ttfamily int() check\+\_\+\+ESC (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Checks if the ESC key was pressed. 

\begin{DoxyReturn}{Returns}
int 0 upon success, -\/1 otherwise
\end{DoxyReturn}
Checks if the ESC key was pressed.

This function checks if the ESC key was pressed.

\begin{DoxyReturn}{Returns}
1 if the ESC key was pressed, 0 otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_a95f165b5a576577a6c2fff2013f71d5b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{keyboard_8h_a36aef6e0db295f00cbc0db17796a3b5a}\label{keyboard_8h_a36aef6e0db295f00cbc0db17796a3b5a}} 
\index{keyboard.h@{keyboard.h}!clean\_scan\_info@{clean\_scan\_info}}
\index{clean\_scan\_info@{clean\_scan\_info}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{clean\_scan\_info()}{clean\_scan\_info()}}
{\footnotesize\ttfamily void() clean\+\_\+scan\+\_\+info (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structscancode__info}{scancode\+\_\+info}} $\ast$}]{scan }\end{DoxyParamCaption})}



Cleans the scancode information. 


\begin{DoxyParams}{Parameters}
{\em scan} & Address of memory to be initialized with the scancode information\\
\hline
\end{DoxyParams}
Cleans the scancode information.

This function cleans the scan info.


\begin{DoxyParams}{Parameters}
{\em scan} & scan info to be cleaned \\
\hline
\end{DoxyParams}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_a36aef6e0db295f00cbc0db17796a3b5a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{keyboard_8h_a6ac0bdf5df1c2fd3b92a16034e743ffd}\label{keyboard_8h_a6ac0bdf5df1c2fd3b92a16034e743ffd}} 
\index{keyboard.h@{keyboard.h}!kbc\_enable\_interrupts@{kbc\_enable\_interrupts}}
\index{kbc\_enable\_interrupts@{kbc\_enable\_interrupts}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{kbc\_enable\_interrupts()}{kbc\_enable\_interrupts()}}
{\footnotesize\ttfamily int() kbc\+\_\+enable\+\_\+interrupts (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Enables the keyboard interrupts. 

\begin{DoxyReturn}{Returns}
int 0 upon success, -\/1 otherwise
\end{DoxyReturn}
Enables the keyboard interrupts.

enables the KBC interrupts

This function enables the interrupts of the keyboard.

\begin{DoxyReturn}{Returns}
int 0 upon success, 1 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{keyboard_8h_a8eee4d0a15beada731a514481b5ad4bf}\label{keyboard_8h_a8eee4d0a15beada731a514481b5ad4bf}} 
\index{keyboard.h@{keyboard.h}!keyboard\_subscribe\_int@{keyboard\_subscribe\_int}}
\index{keyboard\_subscribe\_int@{keyboard\_subscribe\_int}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{keyboard\_subscribe\_int()}{keyboard\_subscribe\_int()}}
{\footnotesize\ttfamily int keyboard\+\_\+subscribe\+\_\+int (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{bit\+\_\+no }\end{DoxyParamCaption})}



Subscribes keyboard interrupts. 


\begin{DoxyParams}{Parameters}
{\em bit\+\_\+no} & Address of memory to be initialized with the bit number to be set in the mask returned upon an interrupt\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 upon success, -\/1 otherwise
\end{DoxyReturn}
Subscribes keyboard interrupts.

This function subscribes interrupts of the keyboard.


\begin{DoxyParams}{Parameters}
{\em bit\+\_\+no} & Address of memory to be initialized with the bit number to be set in the mask returned upon an interrupt\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 upon success, 1 otherwise 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_a8eee4d0a15beada731a514481b5ad4bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{keyboard_8h_ac95aea27a5e91b363b876fed881f368f}\label{keyboard_8h_ac95aea27a5e91b363b876fed881f368f}} 
\index{keyboard.h@{keyboard.h}!keyboard\_unsubscribe\_int@{keyboard\_unsubscribe\_int}}
\index{keyboard\_unsubscribe\_int@{keyboard\_unsubscribe\_int}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{keyboard\_unsubscribe\_int()}{keyboard\_unsubscribe\_int()}}
{\footnotesize\ttfamily int keyboard\+\_\+unsubscribe\+\_\+int (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Unsubscribes keyboard interrupts. 

\begin{DoxyReturn}{Returns}
int 0 upon success, -\/1 otherwise
\end{DoxyReturn}
This function unsubscribes keyboard interrupts.

\begin{DoxyReturn}{Returns}
int 0 upon success, 1 otherwise 
\end{DoxyReturn}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_ac95aea27a5e91b363b876fed881f368f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{keyboard_8h_ab9cc7424b64d31a408f6c1317f35babf}\label{keyboard_8h_ab9cc7424b64d31a408f6c1317f35babf}} 
\index{keyboard.h@{keyboard.h}!read\_out\_buffer@{read\_out\_buffer}}
\index{read\_out\_buffer@{read\_out\_buffer}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{read\_out\_buffer()}{read\_out\_buffer()}}
{\footnotesize\ttfamily int read\+\_\+out\+\_\+buffer (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{out }\end{DoxyParamCaption})}



Reads the output buffer. 


\begin{DoxyParams}{Parameters}
{\em out} & Address of memory to be initialized with the value read from the output buffer\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 upon success, -\/1 otherwise
\end{DoxyReturn}
Reads the output buffer.

This function reads a register from the keyboard.


\begin{DoxyParams}{Parameters}
{\em reg} & Register to be read \\
\hline
{\em st} & Address of memory to be initialized with the value read from the register\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 upon success, 1 otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=283pt]{keyboard_8h_ab9cc7424b64d31a408f6c1317f35babf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_ab9cc7424b64d31a408f6c1317f35babf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{keyboard_8h_ac4d625586bbed9a409aca94111f27305}\label{keyboard_8h_ac4d625586bbed9a409aca94111f27305}} 
\index{keyboard.h@{keyboard.h}!read\_status\_register@{read\_status\_register}}
\index{read\_status\_register@{read\_status\_register}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{read\_status\_register()}{read\_status\_register()}}
{\footnotesize\ttfamily int read\+\_\+status\+\_\+register (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{st }\end{DoxyParamCaption})}



Reads a register from the keyboard. 


\begin{DoxyParams}{Parameters}
{\em reg} & Register to be read \\
\hline
{\em st} & Address of memory to be initialized with the value read from the register\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 upon success, -\/1 otherwise
\end{DoxyReturn}
This function reads a register from the keyboard.


\begin{DoxyParams}{Parameters}
{\em reg} & Register to be read \\
\hline
{\em st} & Address of memory to be initialized with the value read from the register\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 upon success, 1 otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{keyboard_8h_aafd4a17c8dbc26ddeb0f405c9d993d92}\label{keyboard_8h_aafd4a17c8dbc26ddeb0f405c9d993d92}} 
\index{keyboard.h@{keyboard.h}!receive\_keyboard\_scan@{receive\_keyboard\_scan}}
\index{receive\_keyboard\_scan@{receive\_keyboard\_scan}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{receive\_keyboard\_scan()}{receive\_keyboard\_scan()}}
{\footnotesize\ttfamily bool() receive\+\_\+keyboard\+\_\+scan (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structscancode__info}{scancode\+\_\+info}} $\ast$}]{scan\+\_\+info,  }\item[{uint8\+\_\+t $\ast$}]{scancode }\end{DoxyParamCaption})}



Receives the scancode from the keyboard. 


\begin{DoxyParams}{Parameters}
{\em scan\+\_\+info} & Address of memory to be initialized with the scancode information \\
\hline
{\em scancode} & Address of memory to be initialized with the scancode\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the scancode was received, false otherwise
\end{DoxyReturn}
Receives the scancode from the keyboard.

This function receives the keyboard scan.


\begin{DoxyParams}{Parameters}
{\em scan\+\_\+info} & scan info to be filled \\
\hline
{\em scancode} & scancode to be filled\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the scan is valid, false otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=342pt]{keyboard_8h_aafd4a17c8dbc26ddeb0f405c9d993d92_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_aafd4a17c8dbc26ddeb0f405c9d993d92_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{keyboard_8h_a9d5130e52e1ba8088eb5c9563feb17db}\label{keyboard_8h_a9d5130e52e1ba8088eb5c9563feb17db}} 
\index{keyboard.h@{keyboard.h}!test\_status\_polling@{test\_status\_polling}}
\index{test\_status\_polling@{test\_status\_polling}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{test\_status\_polling()}{test\_status\_polling()}}
{\footnotesize\ttfamily bool() test\+\_\+status\+\_\+polling (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{st }\end{DoxyParamCaption})}



Tests if the status polling is valid. 


\begin{DoxyParams}{Parameters}
{\em st} & Status to be tested\\
\hline
\end{DoxyParams}
Tests if the status polling is valid.

This function tests if the status polling is valid.


\begin{DoxyParams}{Parameters}
{\em st} & status to be tested\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the status polling is valid, false otherwise 
\end{DoxyReturn}
\mbox{\Hypertarget{keyboard_8h_a7c5f611b9e6ee9f0f11a224c8a196b23}\label{keyboard_8h_a7c5f611b9e6ee9f0f11a224c8a196b23}} 
\index{keyboard.h@{keyboard.h}!try\_read\_out\_buffer@{try\_read\_out\_buffer}}
\index{try\_read\_out\_buffer@{try\_read\_out\_buffer}!keyboard.h@{keyboard.h}}
\doxysubsubsection{\texorpdfstring{try\_read\_out\_buffer()}{try\_read\_out\_buffer()}}
{\footnotesize\ttfamily int try\+\_\+read\+\_\+out\+\_\+buffer (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{out }\end{DoxyParamCaption})}



Try to read the output buffer. 


\begin{DoxyParams}{Parameters}
{\em out} & Address of memory to be initialized with the value read from the output buffer\\
\hline
\end{DoxyParams}
Try to read the output buffer.

This function tries to read the out buffer.


\begin{DoxyParams}{Parameters}
{\em out} & out buffer to be filled\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int 0 upon success, 1 otherwise 
\end{DoxyReturn}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_a7c5f611b9e6ee9f0f11a224c8a196b23_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{keyboard_8h_a7c5f611b9e6ee9f0f11a224c8a196b23_icgraph}
\end{center}
\end{figure}
